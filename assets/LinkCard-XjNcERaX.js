import{r as g,g as me,c as be,j as a,_ as ne,s as Y,b as ye}from"./index-ZVYxoX19.js";import{u as de,L as we,g as je}from"./image-6-GkjZDO.js";import{b as _e,M as Ne,u as $e,g as Ce,f as ke,i as ae,m as J,c as oe,a as Me}from"./motion-minimal-jJCu8YKk.js";import{L as fe}from"./StyledButton-BX-nC1hJ.js";import{C as Q,v as le}from"./request-MvzBsxCw.js";import{a as Te,u as Pe}from"./viewport-1IkFLRB6.js";import{u as pe}from"./provider-exUE4N1l.js";import{m as Se}from"./spring-vvIC2hCq.js";import{a as Ie}from"./use-is-client-50HaPOXu.js";import{p as Ee}from"./dom-NuJWIaAq.js";import{m as Le}from"./visual-element-FhNWhN2c.js";function q(t){const e=_e(()=>Le(t)),{isStatic:r}=g.useContext(Ne);if(r){const[,c]=g.useState(t);g.useEffect(()=>e.on("change",c),[])}return e}function Re(t,e){const r=q(e()),c=()=>r.set(e());return c(),$e(()=>{const m=()=>ke.update(c,!1,!0),o=t.map(u=>u.on("change",m));return()=>{o.forEach(u=>u()),Ce(c)}}),r}function Ae(t,...e){const r=t.length;function c(){let m="";for(let o=0;o<r;o++){m+=t[o];const u=e[o];u&&(m+=ae(u)?u.get():u)}return m}return Re(e.filter(ae),c)}var ee=(t=>(t.Click="click",t.Interaction="interaction",t.Impression="impression",t))(ee||{}),He=function(t,e){e=e||{},e.listUnicodeChar=e.hasOwnProperty("listUnicodeChar")?e.listUnicodeChar:!1,e.stripListLeaders=e.hasOwnProperty("stripListLeaders")?e.stripListLeaders:!0,e.gfm=e.hasOwnProperty("gfm")?e.gfm:!0,e.useImgAltText=e.hasOwnProperty("useImgAltText")?e.useImgAltText:!0,e.abbr=e.hasOwnProperty("abbr")?e.abbr:!1,e.replaceLinksWithURL=e.hasOwnProperty("replaceLinksWithURL")?e.replaceLinksWithURL:!1,e.htmlTagsToSkip=e.hasOwnProperty("htmlTagsToSkip")?e.htmlTagsToSkip:[];var r=t||"";r=r.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{e.stripListLeaders&&(e.listUnicodeChar?r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,e.listUnicodeChar+" $1"):r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),e.gfm&&(r=r.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),e.abbr&&(r=r.replace(/\*\[.*\]:.*\n/,"")),r=r.replace(/<[^>]*>/g,"");var c=new RegExp("<[^>]*>","g");if(e.htmlTagsToSkip.length>0){var m="(?!"+e.htmlTagsToSkip.join("|")+")";c=new RegExp("<"+m+"[^>]*>","ig")}r=r.replace(c,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,e.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,e.replaceLinksWithURL?"$2":"$1").replace(/^\s{0,3}>\s?/gm,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} #{0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(o){return console.error(o),t}return r};const Oe=me(He);var he={exports:{}};/**
* Generate unique and beautiful colors from any texts or numbers
 * @version v1.1.1
 * @link https://github.com/dastoori/uniqolor#README
 * @author Rasool Dastoori
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */(function(t,e){(function(r,c){t.exports=c()})(be,function(){function r(l,s){var n=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(n!=null){var i,d,b,v,w=[],_=!0,k=!1;try{if(b=(n=n.call(l)).next,s===0){if(Object(n)!==n)return;_=!1}else for(;!(_=(i=b.call(n)).done)&&(w.push(i.value),w.length!==s);_=!0);}catch(R){k=!0,d=R}finally{try{if(!_&&n.return!=null&&(v=n.return(),Object(v)!==v))return}finally{if(k)throw d}}return w}}function c(l,s){return u(l)||r(l,s)||p(l,s)||x()}function m(l){return o(l)||f(l)||p(l)||y()}function o(l){if(Array.isArray(l))return h(l)}function u(l){if(Array.isArray(l))return l}function f(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function p(l,s){if(l){if(typeof l=="string")return h(l,s);var n=Object.prototype.toString.call(l).slice(8,-1);if(n==="Object"&&l.constructor&&(n=l.constructor.name),n==="Map"||n==="Set")return Array.from(l);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(l,s)}}function h(l,s){(s==null||s>l.length)&&(s=l.length);for(var n=0,i=new Array(s);n<s;n++)i[n]=l[n];return i}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=[0,100],T=[0,100],N=function(s){return"".concat(s.length===1?"0":"").concat(s)},$=function(s,n,i){return Math.max(Math.min(s,i),n)},C=function(s,n){return Math.floor(Math.random()*(n-s+1))+s},X=function l(s,n,i){for(var d=C(s,n),b=0;b<i?.length;b++){var v=i[b];if(v?.length===2&&d>=v[0]&&d<=v[1])return l(s,n,i)}return d},F=function(s){for(var n=s.length,i=0,d=0;d<n;d++)i=(i<<5)-i+s.charCodeAt(d),i&=i;return i},V=function(s,n){return typeof n=="number"?n:s%Math.abs(n[1]-n[0])+n[0]},I=function(s,n){return typeof s=="number"?$.apply(void 0,[Math.abs(s)].concat(m(n))):s.length===1||s[0]===s[1]?$.apply(void 0,[Math.abs(s[0])].concat(m(n))):[Math.abs($.apply(void 0,[s[0]].concat(m(n)))),$.apply(void 0,[Math.abs(s[1])].concat(m(n)))]},P=function(s,n,i){return i<0?i+=1:i>1&&(i-=1),i<1/6?s+(n-s)*6*i:i<1/2?n:i<2/3?s+(n-s)*(2/3-i)*6:s},E=function(s,n,i){var d,b,v;if(s/=360,n/=100,i/=100,n===0)d=b=v=i;else{var w=i<.5?i*(1+n):i+n-i*n,_=2*i-w;d=P(_,w,s+1/3),b=P(_,w,s),v=P(_,w,s-1/3)}return[Math.round(d*255),Math.round(b*255),Math.round(v*255)]},L=function(s,n,i,d){return(s*299+n*587+i*114)/1e3>=d},G=function(s,n,i){return"hsl(".concat(s,", ").concat(n,"%, ").concat(i,"%)")},W=function(s,n,i,d){switch(d){case"rgb":return"rgb(".concat(s,", ").concat(n,", ").concat(i,")");case"hex":default:return"#".concat(N(s.toString(16))).concat(N(n.toString(16))).concat(N(i.toString(16)))}},B=function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.format,d=i===void 0?"hex":i,b=n.saturation,v=b===void 0?[50,55]:b,w=n.lightness,_=w===void 0?[50,60]:w,k=n.differencePoint,R=k===void 0?130:k,A=Math.abs(F(String(s))),U=V(A,[0,360]),z=V(A,I(v,S)),H=V(A,I(_,T)),Z=E(U,z,H),O=c(Z,3),D=O[0],re=O[1],se=O[2];return{color:d==="hsl"?G(U,z,H):W(D,re,se,d),isLight:L(D,re,se,R)}};return B.random=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=l.format,n=s===void 0?"hex":s,i=l.saturation,d=i===void 0?[50,55]:i,b=l.lightness,v=b===void 0?[50,60]:b,w=l.differencePoint,_=w===void 0?130:w,k=l.excludeHue;d=I(d,S),v=I(v,T);var R=k?X(0,359,k):C(0,359),A=typeof d=="number"?d:C.apply(void 0,m(d)),U=typeof v=="number"?v:C.apply(void 0,m(v)),z=E(R,A,U),H=c(z,3),Z=H[0],O=H[1],D=H[2];return{color:n==="hsl"?G(R,A,U):W(Z,O,D,n),isLight:L(Z,O,D,_)}},B})})(he);var Fe=he.exports;const ge=me(Fe);function Ve(t){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...t,children:a.jsxs("g",{fill:"none",fillRule:"evenodd",children:[a.jsx("path",{d:"M24 0v24H0V0h24ZM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018Zm.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01l-.184-.092Z"}),a.jsx("path",{fill:"currentColor",d:"M13.08 2.868a1.25 1.25 0 0 0-2.16 0L8.126 7.665L2.697 8.842a1.25 1.25 0 0 0-.667 2.054l3.7 4.141l-.56 5.525a1.25 1.25 0 0 0 1.748 1.27L12 19.592l5.082 2.24a1.25 1.25 0 0 0 1.748-1.27l-.56-5.525l3.7-4.14a1.25 1.25 0 0 0-.667-2.055l-5.428-1.176l-2.795-4.798ZM12 17.523c.172 0 .344.035.504.106l4.206 1.854l-.463-4.573a1.25 1.25 0 0 1 .312-.959l3.062-3.427l-4.492-.973a1.25 1.25 0 0 1-.816-.592L12 4.987v12.536Z"})]})})}const Ue=t=>{const{shouldTrack:e=!0,...r}=t;return e?a.jsx(ve,{...r}):a.jsx(a.Fragment,{children:t.children})},ve=g.memo(t=>{const[e,r]=g.useState(!1),c=Te(),{ref:m}=de({initialInView:!1,triggerOnce:!0,onChange(o){if(o){if(r(!0),c)return;document.dispatchEvent(new CustomEvent("impression",{detail:{action:t.action??ee.Impression,label:t.trackerMessage}})),t.onTrack?.()}}});return a.jsxs(a.Fragment,{children:[t.children,!e&&a.jsx("span",{ref:m})]})});ve.displayName="ImpressionView";const ie=t=>{const{dismissAll:e,dismissTop:r}=pe();return a.jsxs("div",{className:"relative mx-auto mt-[10vh] max-w-full overflow-auto px-2 scrollbar-none lg:max-w-[65rem] lg:p-0",children:[a.jsx(Ue,{action:ee.Impression,trackerMessage:"Peek Modal"}),a.jsx(J.div,{initial:{opacity:.5,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:Se,className:"scrollbar-none",children:t.children}),a.jsxs(J.div,{initial:!0,exit:{opacity:0},className:"fixed right-2 top-2 flex items-center gap-4",children:[a.jsxs(fe,{className:"flex h-8 w-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 center dark:ring-neutral-800",href:t.to,onClick:e,children:[a.jsx("i",{className:"icon-[mingcute--fullscreen-2-line] text-lg"}),a.jsx("span",{className:"sr-only",children:"Go to this link"})]}),a.jsxs("button",{className:"flex h-8 w-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 center dark:ring-neutral-800",onClick:r,children:[a.jsx("i",{className:"icon-[mingcute--close-line] text-lg"}),a.jsx("span",{className:"sr-only",children:"Dimiss"})]})]})]})},De=()=>{const t=Pe(),{present:e}=pe();return g.useCallback(r=>{if(t)return;const c={clickOutsideToDismiss:!0,title:"Preview",modalClassName:"relative mx-auto mt-[10vh] scrollbar-none max-w-full overflow-auto px-2 lg:max-w-[65rem] lg:p-0"};return r.startsWith("/notes/")?(requestAnimationFrame(async()=>{const m=await ne(()=>import("./NotePreview-kHRLYjPm.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]),import.meta.url).then(o=>o.NotePreview);e({...c,CustomModalComponent:()=>a.jsx(ie,{to:r,children:a.jsx(m,{noteId:parseInt(r.split("/").pop())})}),content:()=>null})}),!0):r.startsWith("/posts/")?(requestAnimationFrame(async()=>{const m=await ne(()=>import("./PostPreview-7bRn9maZ.js"),__vite__mapDeps([34,1,2,3,4,5,6,7,35,30,9,15,13,16,17,18,19,24,25,26,12,8,10,11,14,20,21,22,23,27,28,29,31,32]),import.meta.url).then(p=>p.PostPreview),o=r.split("/"),u=o.pop(),f=o.pop();e({...c,CustomModalComponent:()=>a.jsx(ie,{to:r,children:a.jsx(m,{category:f,slug:u})}),content:()=>null})}),!0):!1},[t,e])},Ge={typescript:"#2b7489",javascript:"#f1e05a",html:"#e34c26",java:"#b07219",go:"#00add8",vue:"#2c3e50",css:"#563d7c",yaml:"#cb171e",json:"#292929",markdown:"#083fa1",csharp:"#178600","c#":"#178600",c:"#555555",cpp:"#f34b7d","c++":"#f34b7d",python:"#3572a5",lua:"#000080",vimscript:"#199f4b",shell:"#89e051",dockerfile:"#384d54",ruby:"#701516",php:"#4f5d95",lisp:"#3fb68b",kotlin:"#F18E33",rust:"#dea584",dart:"#00B4AB",swift:"#ffac45","objective-c":"#438eff","objective-c++":"#6866fb",r:"#198ce7",matlab:"#e16737",scala:"#c22d40",sql:"#e38c00",perl:"#0298c3"},ce="https://api.github.com",We="/api/gh",te=t=>{const e=t.replace(ce,"");return Promise.any([fetch(ce+e).then(r=>{if(r.status===403)throw new Error("GitHub API rate limit exceeded");return r.json()}),fetch(We+e).then(r=>r.json())])},K=Symbol(),Be=Symbol(),xe=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?g.useEffect:g.useLayoutEffect,ze=Y.unstable_runWithPriority?t=>Y.unstable_runWithPriority(Y.unstable_NormalPriority,t):t=>t();function Ze(t){const e=g.createContext({[K]:{v:{current:t},n:{current:-1},l:new Set,u:c=>c()}});var r;return e[Be]=e.Provider,e.Provider=(r=e.Provider,({value:c,children:m})=>{const o=g.useRef(c),u=g.useRef(0),[f,p]=g.useState(null);f&&(f(c),p(null));const h=g.useRef();if(!h.current){const y=new Set,x=(S,T)=>{ye.unstable_batchedUpdates(()=>{u.current+=1;const N={n:u.current};T!=null&&T.suspense&&(N.n*=-1,N.p=new Promise($=>{p(()=>C=>{N.v=C,delete N.p,$(C)})})),y.forEach($=>$(N)),S()})};h.current={[K]:{v:o,n:u,l:y,u:x}}}return xe(()=>{o.current=c,u.current+=1,ze(()=>{h.current[K].l.forEach(y=>{y({n:u.current,v:c})})})},[c]),g.createElement(r,{value:h.current},m)}),delete e.Consumer,e}function qe(t,e){const r=g.useContext(t)[K],{v:{current:c},n:{current:m},l:o}=r,u=e(c),[f,p]=g.useReducer((h,y)=>{if(!y)return[c,u];if("p"in y)throw y.p;if(y.n===m)return Object.is(h[1],u)?h:[c,u];try{if("v"in y){if(Object.is(h[0],y.v))return h;const x=e(y.v);return Object.is(h[1],x)?h:[y.v,x]}}catch{}return[...h]},[c,u]);return Object.is(f[1],u)||p(),xe(()=>(o.add(p),()=>{o.delete(p)}),[o]),f[1]}const Ke={tmdb:!1},Xe=Ze(Ke),Ye=t=>qe(Xe,e=>e[t]);var M=(t=>(t.GHRepo="gh-repo",t.Self="self",t.MixSpace="mx-space",t.GHCommit="gh-commit",t.GHPr="gh-pr",t.TMDB="tmdb",t))(M||{});const Je="_contents_1bvlu_25",Qe="_title_1bvlu_34",et="_desc_1bvlu_46",tt="_image_1bvlu_56",rt="_skeleton_1bvlu_66",st="_error_1bvlu_94",j={"card-grid":"_card-grid_1bvlu_1",contents:Je,title:Qe,desc:et,image:tt,skeleton:rt,error:st},wt=t=>Ie()?a.jsx(we,{placeholder:a.jsx(at,{}),children:a.jsx(nt,{...t})}):null,nt=t=>{const{id:e,source:r=M.Self,className:c,fallbackUrl:m}=t,[o,u]=g.useState(!0),[f,p]=g.useState(!1),[h,y]=g.useState(m||"javascript:;"),[x,S]=g.useState(),T=De(),N=g.useCallback(async s=>{T(h)&&Ee(s)},[h]),$=Ye("tmdb"),C=g.useCallback((s,n)=>{const i={[M.MixSpace]:ue,[M.GHRepo]:ot,[M.GHCommit]:lt,[M.GHPr]:it,[M.Self]:ue};$&&(i[M.TMDB]=ct);const d=i[s];if(!d)return{isValid:!1,fetchFn:null};const b=d.isValid(n);return{isValid:b,fetchFn:b?d.fetch:null}},[$]),{isValid:X,fetchFn:F}=g.useMemo(()=>C(r,e),[r,e]),V=g.useCallback(async()=>{F&&(u(!0),await F(e,S,y).catch(s=>{console.log("fetch card info error: ",s),p(!0)}),u(!1))},[F,e]),{ref:I}=de({triggerOnce:!0,onChange(s){s&&V()}}),P=q(0),E=q(0),L=q(0),G=g.useCallback(({clientX:s,clientY:n,currentTarget:i})=>{const d=i.getBoundingClientRect();P.set(s-d.left),E.set(n-d.top),L.set(Math.sqrt(d.width**2+d.height**2)*1.3)},[P,E,L]),W=Ae`radial-gradient(${L}px circle at ${P}px ${E}px, var(--spotlight-color) 0%, transparent 65%)`;if(!X)return null;const B=r==="self"?fe:"a",l=x?.classNames||{};return a.jsxs(B,{href:h,target:r!=="self"?"_blank":"_self",ref:I,className:oe(j["card-grid"],(o||f)&&j.skeleton,f&&j.error,"group",c,l.cardRoot),style:{borderColor:x?.color?`${x.color}30`:""},onClick:N,onMouseMove:G,children:[x?.color&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundColor:x?.color,opacity:.06}}),a.jsx(J.div,{layout:!0,className:"absolute inset-0 z-0 opacity-0 duration-500 group-hover:opacity-100",style:{"--spotlight-color":`${x?.color}50`,background:W}})]}),a.jsxs("span",{className:j.contents,children:[a.jsx("span",{className:j.title,children:x?.title}),a.jsx("span",{className:j.desc,children:x?.desc})]}),(o||x?.image)&&a.jsx("span",{className:oe(j.image,l.image),"data-image":x?.image||"",style:{backgroundImage:x?.image?`url(${x.image})`:void 0}})]})},at=()=>a.jsxs("span",{className:Me(j["card-grid"],j.skeleton),children:[a.jsxs("span",{className:j.contents,children:[a.jsx("span",{className:j.title}),a.jsx("span",{className:j.desc})]}),a.jsx("span",{className:j.image})]}),ot={isValid:t=>{const e=t.split("/");return e.length===2&&e[0].length>0&&e[1].length>0},fetch:async(t,e,r)=>{const[c,m]=t.split("/");try{const o=await te(`https://api.github.com/repos/${c}/${m}`),u=Q(o);e({title:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1",children:u.name}),a.jsx("span",{className:"flex-shrink-0 self-end justify-self-end",children:u.stargazersCount>0&&a.jsxs("span",{className:"inline-flex flex-shrink-0 items-center gap-1 self-center text-sm text-orange-400 dark:text-yellow-500",children:[a.jsx("i",{className:"icon-[mingcute--star-line]"}),a.jsx("span",{className:"font-sans font-medium",children:u.stargazersCount})]})})]}),desc:u.description,image:u.owner.avatarUrl,color:Ge[u.language?.toLowerCase()]}),r(u.htmlUrl)}catch(o){throw console.error("Error fetching GitHub data:",o),o}}},lt={isValid:t=>{const e=t.split("/");return e.length===4&&e.every(r=>r.length>0)&&e[2]==="commit"},fetch:async(t,e,r)=>{const[c,m,,o]=t.split("/");try{const u=await te(`https://api.github.com/repos/${c}/${m}/commits/${o}`),f=Q(u);e({title:a.jsx("span",{className:"font-normal",children:f.commit.message.replace(/Signed-off-by:.+/,"")}),desc:a.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[a.jsxs("span",{className:"text-uk-green-light",children:["+",f.stats.additions]}),a.jsxs("span",{className:"text-uk-red-light",children:["-",f.stats.deletions]}),a.jsx("span",{className:"text-sm",children:f.sha.slice(0,7)}),a.jsxs("span",{className:"text-sm opacity-80",children:[c,"/",m]})]}),image:f.author?.avatarUrl}),r(`https://github.com/${c}/${m}/commit/${o}`)}catch(u){throw console.error("Error fetching GitHub commit data:",u),u}}},it={isValid:t=>{const e=t.split("/");return e.length===3&&e.every(r=>r.length>0)},fetch:async(t,e,r)=>{const[c,m,,o]=t.split("/");try{const u=await te(`https://api.github.com/repos/${c}/${m}/pulls/${o}`),f=Q(u);e({title:`PR: ${f.title}`,desc:a.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[a.jsxs("span",{className:"text-uk-green-light",children:["+",f.additions]}),a.jsxs("span",{className:"text-uk-red-light",children:["-",f.deletions]}),a.jsxs("span",{className:"text-sm opacity-80",children:[c,"/",m]})]}),image:f.user.avatarUrl}),r(f.htmlUrl)}catch(u){throw console.error("Error fetching GitHub PR data:",u),u}}},ue={isValid:t=>{const[e,...r]=t.split("/");return e!=="posts"&&e!=="notes"?!1:e==="posts"?r.length===2:r.length===1},fetch:async(t,e,r)=>{const[c,...m]=t.split("/");try{let o={title:"",text:""};if(c==="posts"){const[p,h]=m;o=await le.post.getPost(p,h),r(`/posts/${p}/${h}`)}else if(c==="notes"){const[p]=m;o=(await le.note.getNoteById(+p)).data,r(`/notes/${p}`)}const u=o.cover||o.meta?.cover;let f="";if(u){const p=new Image;p.src=u,p.crossOrigin="Anonymous",p.onload=()=>{e(h=>h?.title!==o.title?h:{...h,color:je(p)})}}else f=ge(o.title,{saturation:[30,35],lightness:[60,70]}).color;e({title:o.title,desc:o.summary||`${Oe(o.text).slice(0,50)}...`,image:u||o.images?.[0]?.src,color:f})}catch(o){throw console.error("Error fetching self data:",o),o}}},ct={isValid(t){const[e,r]=t.split("/");return["tv","movie"].includes(e)&&r.length>0},async fetch(t,e,r){const[c,m]=t.split("/");e({classNames:{cardRoot:"!w-full"}});const o=await fetch(`/api/tmdb/${c}/${m}?language=zh-CN`).then(p=>p.json()).catch(p=>{throw console.error("Error fetching TMDB data:",p),p}),u=c==="tv"?o.name:o.title,f=c==="tv"?o.original_name:o.original_title;e({title:a.jsxs("span",{className:"flex flex-wrap items-end gap-2",children:[a.jsx("span",{children:u}),u!==f&&a.jsxs("span",{className:"text-sm opacity-70",children:["(",f,")"]}),a.jsxs("span",{className:"inline-flex flex-shrink-0 items-center gap-1 self-center text-xs text-orange-400 dark:text-yellow-500",children:[a.jsx(Ve,{}),a.jsx("span",{className:"font-sans font-medium",children:o.vote_average>0&&o.vote_average.toFixed(1)})]})]}),desc:a.jsx("span",{className:"line-clamp-none overflow-visible whitespace-pre-wrap",children:o.overview}),image:`https://image.tmdb.org/t/p/w500${o.poster_path}`,color:ge(o.name,{saturation:[30,35],lightness:[60,70]}).color,classNames:{image:"self-start !h-[75px] !w-[50px]",cardRoot:"!w-full !flex-row-reverse"}}),o.homepage&&r(o.homepage)}};export{wt as L,Oe as R,ee as T,M as a,q as b,Ae as c,Ye as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./NotePreview-kHRLYjPm.js","./index-ZVYxoX19.js","./index-Y_bLMXYg.css","./useQuery-P1_Gzg00.js","./request-MvzBsxCw.js","./env-y9k74Ds6.js","./motion-minimal-jJCu8YKk.js","./StyledButton-BX-nC1hJ.js","./utils-d1nNWW-q.js","./viewport-1IkFLRB6.js","./Gallery-vzSRe3eA.js","./image-6-GkjZDO.js","./lodash-lrAbnKsZ.js","./use-is-unmounted-kDYnHtGR.js","./Gallery-cCMf-PmV.css","./provider-exUE4N1l.js","./spring-vvIC2hCq.js","./use-event-callback-tu2pR-Vc.js","./dom-NuJWIaAq.js","./visual-element-FhNWhN2c.js","./alert-xRT6btXA.js","./FloatPopover-0WBOZP5i.js","./use-is-client-50HaPOXu.js","./SocialSourceLink-EW2h1RVe.js","./CodeHighlighter-ruaKOT_-.js","./use-is-dark-tNK75MAG.js","./CodeHighlighter-hcFZa2QO.css","./Collapse-A6mBdkLj.js","./alert-B8lEAZHM.css","./react-error-boundary.esm-fuoQe1J8.js","./FormInput-WOYGzdyc.js","./customParseFormat-JucLWOvd.js","./utils-rnEXEs_g.css","./NotePreview-aX_R-inV.css","./PostPreview-7bRn9maZ.js","./index-nXMrxtpd.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
